% arara: lualatex: { shell: true}
% arara: lualatex: { shell: true}

\providecommand{\toplevel}{../../../..}
\providecommand{\importPath}{\toplevel/Shared/Imports}
\providecommand{\assetPath}{\toplevel/Assets}
\providecommand{\sharedPath}{\toplevel/Shared}

\documentclass[tikz, hidelinks, float=false, crop=false]{standalone}

\input{\importPath/preamble}
\input{\importPath/glossary}
\input{\importPath/symbols}

\begin{document}
    % \directlua{
    %     path = "\assetPath"
    %     printDirectory = require(path.."/Code/directoryWalker")
    % }
    % \newcommand\addLuaDirectoryTree[5][]{%
    %     \directlua{printDirectory.(#2,#3,[[#1]])}%
    % }
    \begin{forest}
        for tree={
        %     font=\sffamily,
        %     text=white,
        %     text width=2cm,
        %     minimum height=0.75cm,
        %     if level=0
        %     {fill=violet}
        %     {fill=blue},
        %     rounded corners=4pt,
            grow'=0,
            child anchor=west,
            parent anchor=south,
            anchor=west,
            calign=first,
            edge={rounded corners,line width=1pt},
            edge path={
            \noexpand\path [draw, \forestoption{edge}]
            (!u.south west) +(7.5pt,0) |- (.child anchor)\forestoption{edge label};
            },
            before typesetting nodes={
            if n=1
                {insert before={[,phantom]}}
                {}
            },
            fit=band,
            % s sep=10pt,
            before computing xy={l=15pt},
        }
        % \addLuaDirectoryTree{\toplevel}
        [Report Directory
            [Assets
                [Images
                    [Tikz
                        [texfamilytree
                            [texfamilytree.pdf]
                            [texfamilytree.tex]
                        ]
                        [...]
                        % [directoryStructure
                        %     [directorystructure.tex]
                        % ]
                        % [lorenz
                        %     [lorenzTikz.pdf]
                        %     [lorenzTikz.tex]
                        % ]
                        % [mosfet
                        %     [mosfet.tex]
                        % ]
                        % [plot
                        %     [plot.tex]
                        % ]
                        % [pnjunction
                        %     [pnjunction.tex]
                        % ]
                        % [IsolatedDCDCConverter
                        %     [isolatedDCDC.tex]
                        % ]
                    ]
                ]
                [...]
                % [Code
                %     [lorenz.lua]
                %     [...]
                %     % [directoryWalker.lua]
                % ]
                % [Data
                %     [TargetsAndVals.csv]
                %     [VacuumTech.csv]
                % ]
            ]
            [Presentation
                [modularPresentation.pdf]
                [modularPresentation.tex]
            ]
            [ReportChapters
                [001-ch1
                    [chapt1.pdf]
                    [chapt1.tex]
                ]
                [...]
                % [002-ch2
                %     [chapt2.tex]
                % ]
            ]
            [Shared
                [Imports
                    [preamble.tex]
                    [glossary.tex]
                    [...]
                    % [assets.tex]
                    % [equations.tex]
                    % [symbols.tex]
                ]
                [...]
                % [bibFiles
                %     [accelerators.bib]
                % ]
            ]
            [modularReport.pdf]
            [modularReport.tex]
        ]
    \end{forest}
\end{document}
